"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[592],{7838:(v,i,t)=>{t.d(i,{sk:()=>r,wq:()=>n,u5:()=>o,Ui:()=>s});const r={_id:null,userId:null,businessId:null,active:!0,name:null,icon:null,parentId:null,slug:null},n={_id:null,userId:null,active:!0,businessId:null,name:null,contactPersons:[],email:null,phone:null,address:null,city:null,state:null,obs:null,destinations:[]},o={_id:null,userId:null,businessId:null,active:!0,imagesUrl:[null],code:null,name:null,description:null,categoryId:null,onSale:0,stock:0,unit:null,guaranty:null,price:0,cost:0,tax:0,discount:0,currency:null,weight:null,volume:null,dimensions:null},s={_id:null,businessId:null,userId:null,active:null,title:null,subtitle:null,imageUrl:null,productId:null}},1256:(v,i,t)=>{t.d(i,{V:()=>u});var r=t(5e3),n=t(4768),o=t(5094);let u=(()=>{class s{constructor(e,h){this._clientsService=e,this.store=h,this.businessId=null}resolve(e,h){return this._clientsService.getClients()}}return s.\u0275fac=function(e){return new(e||s)(r.LFG(n.a),r.LFG(o.yh))},s.\u0275prov=r.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4768:(v,i,t)=>{t.d(i,{a:()=>d});var r=t(591),n=t(2994),o=t(2340),u=t(205),s=t(5e3),O=t(520),e=t(5094);const h=o.N.API_URL;let d=(()=>{class a{constructor(c,C){this._httpClient=c,this.store=C,this._clients=new r.X([]),this._pagination=new r.X(null)}get clients$(){return this._clients.asObservable()}get pagination$(){return this._pagination.asObservable()}getClients(){return this._httpClient.get(`${h}/clients/`).pipe((0,n.b)(c=>{this._clients.next(c.clients),this.store.dispatch((0,u.h_)({clients:c.clients}))}))}}return a.\u0275fac=function(c){return new(c||a)(s.LFG(O.eN),s.LFG(e.yh))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},7934:(v,i,t)=>{t.d(i,{L:()=>O});var r=t(2198),n=t(6203),o=t(5e3),u=t(9672),s=t(5094);let O=(()=>{class e{constructor(d,a){this._ordersService=d,this.store=a,this.businessId=null,this.store.select(n.pR).pipe((0,r.h)(E=>null!==E)).subscribe(E=>this.businessId=E._id)}resolve(d,a){return this._ordersService.getOrdersByBusiness(this.businessId)}}return e.\u0275fac=function(d){return new(d||e)(o.LFG(u.N),o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7348:(v,i,t)=>{t.d(i,{ny:()=>u});var r=t(5094);const n=s=>s.orders,u=((0,r.P1)(n,s=>s.order),(0,r.P1)(n,s=>s.orders))},9672:(v,i,t)=>{t.d(i,{N:()=>C});var r=t(591),n=t(2994),o=t(373),u=t(2986),s=t(7545),O=t(4850),e=t(6781),h=t(2340),d=t(5e3),a=t(520),E=t(5094);const c=h.N.API_URL;let C=(()=>{class D{constructor(l,_){this._httpClient=l,this.store=_,this._pagination=new r.X(null),this._order=new r.X(null),this._orders=new r.X([])}get pagination$(){return this._pagination.asObservable()}get order$(){return this._order.asObservable()}get orders$(){return this._orders.asObservable()}getOrders(l=0,_=10,P="orderNo",M="asc",I=""){return this._httpClient.get(`${c}/orders/`,{params:{page:""+l,size:""+_,sort:P,order:M}}).pipe((0,n.b)(p=>(this._pagination.next(p.pagination),this._orders.next(p.orders),this.store.dispatch((0,e.qQ)({orders:p.orders})),p)))}getOrdersByBusiness(l){if(null!==l)return this._httpClient.get(`${c}/orders/business/${l}`).pipe((0,n.b)(_=>{this._orders.next(_.orders),this.store.dispatch((0,e.qQ)({orders:_.orders}))}))}getOrderById(l){if(null!==l)return this._httpClient.get(`${c}/orders/${l}`).pipe((0,o.j)("order"),(0,n.b)(_=>{this.store.dispatch((0,e.OL)({order:_}))}))}updateOrder(l){return this.orders$.pipe((0,u.q)(1),(0,s.w)(_=>this._httpClient.put(`${c}/orders/${l._id}`,l).pipe((0,O.U)(P=>{const M=_.findIndex(I=>I._id===l._id);return _[M]=P.order,this._orders.next(_),this.store.dispatch((0,e.qQ)({orders:_})),P}))))}updateOrderStatus(l){return this.orders$.pipe((0,u.q)(1),(0,s.w)(_=>this._httpClient.put(`${c}/orders/update-state`,l).pipe((0,O.U)(P=>{const M=_.findIndex(I=>I._id===l.orderId);return _[M]=P.updatedOrder,this._orders.next(_),this.store.dispatch((0,e.qQ)({orders:_})),P}))))}}return D.\u0275fac=function(l){return new(l||D)(d.LFG(a.eN),d.LFG(E.yh))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},8441:(v,i,t)=>{t.d(i,{S:()=>O});var r=t(2198),n=t(6203),o=t(5e3),u=t(771),s=t(5094);let O=(()=>{class e{constructor(d,a){this._productsService=d,this.store=a,this.businessId=null,this.store.select(n.pR).pipe((0,r.h)(E=>null!==E)).subscribe(E=>this.businessId=E._id)}resolve(d,a){return this._productsService.getProductsByBusiness(this.businessId)}}return e.\u0275fac=function(d){return new(d||e)(o.LFG(u.s),o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4151:(v,i,t)=>{t.d(i,{nR:()=>u});var r=t(5094);const n=s=>s.products,u=((0,r.P1)(n,s=>s.product),(0,r.P1)(n,s=>s.products))}}]);