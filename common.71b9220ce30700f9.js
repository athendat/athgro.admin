"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[592],{7838:(h,d,t)=>{t.d(d,{sk:()=>r,wq:()=>l,u5:()=>o,Ui:()=>s});const r={_id:null,userId:null,businessId:null,active:!0,name:null,icon:null,parentId:null,slug:null},l={_id:null,userId:null,active:!0,businessId:null,name:null,contactPersons:[],email:null,phone:null,address:null,city:null,state:null,obs:null,destinations:[]},o={_id:null,userId:null,businessId:null,active:!0,imagesUrl:[null],code:null,name:null,description:null,categoryId:null,onSale:0,stock:0,unit:null,guaranty:null,price:0,cost:0,tax:0,discount:0,currency:null,weight:null,volume:null,dimensions:null},s={_id:null,businessId:null,userId:null,active:null,title:null,subtitle:null,imageUrl:null,productId:null}},1256:(h,d,t)=>{t.d(d,{V:()=>a});var r=t(5e3),l=t(4768),o=t(5094);let a=(()=>{class s{constructor(i,e){this._clientsService=i,this.store=e,this.businessId=null}resolve(i,e){return this._clientsService.getClients()}}return s.\u0275fac=function(i){return new(i||s)(r.LFG(l.a),r.LFG(o.yh))},s.\u0275prov=r.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4546:(h,d,t)=>{t.d(d,{GZ:()=>a});var r=t(5094);const l=s=>s.clients,a=((0,r.P1)(l,s=>s.client),(0,r.P1)(l,s=>s.clients))},4768:(h,d,t)=>{t.d(d,{a:()=>O});var r=t(591),l=t(2994),o=t(2340),a=t(205),s=t(5e3),_=t(520),i=t(5094);const e=o.N.API_URL;let O=(()=>{class n{constructor(c,M){this._httpClient=c,this.store=M,this._clients=new r.X([]),this._pagination=new r.X(null)}get clients$(){return this._clients.asObservable()}get pagination$(){return this._pagination.asObservable()}getClients(){return this._httpClient.get(`${e}/clients/`).pipe((0,l.b)(c=>{this._clients.next(c.clients),this.store.dispatch((0,a.h_)({clients:c.clients}))}))}}return n.\u0275fac=function(c){return new(c||n)(s.LFG(_.eN),s.LFG(i.yh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},7934:(h,d,t)=>{t.d(d,{n:()=>_,L:()=>i});var r=t(2198),l=t(6203),o=t(5e3),a=t(9672),s=t(5094);let _=(()=>{class e{constructor(n){this._ordersService=n}resolve(n,v){const c=n.paramMap.get("orderId");if(null!==c)return this._ordersService.getOrderById(c)}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(a.N))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),i=(()=>{class e{constructor(n,v){this._ordersService=n,this.store=v,this.businessId=null,this.store.select(l.pR).pipe((0,r.h)(c=>null!==c)).subscribe(c=>this.businessId=c._id)}resolve(n,v){return this._ordersService.getOrdersByBusiness(this.businessId)}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(a.N),o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7348:(h,d,t)=>{t.d(d,{zT:()=>o,ny:()=>a,xY:()=>s});var r=t(5094);const l=_=>_.orders,o=(0,r.P1)(l,_=>_.order),a=(0,r.P1)(l,_=>_.orders),s=(0,r.P1)(l,_=>_.ordersByWeekdayStats)},9672:(h,d,t)=>{t.d(d,{N:()=>R});var r=t(7348),l=t(591),o=t(2994),a=t(373),s=t(2986),_=t(7545),i=t(4850),e=t(6781),O=t(2340),n=t(5e3),v=t(520),c=t(5094);const M=O.N.API_URL;let R=(()=>{class D{constructor(u,E){this._httpClient=u,this.store=E,this._pagination=new l.X(null),this._order=new l.X(null),this._orders=new l.X([])}get pagination$(){return this._pagination.asObservable()}get order$(){return this._order.asObservable()}get orders$(){return this._orders.asObservable()}getOrders(u=0,E=10,P="orderNo",I="asc",C=""){return this._httpClient.get(`${M}/orders/`,{params:{page:""+u,size:""+E,sort:P,order:I}}).pipe((0,o.b)(p=>(this._pagination.next(p.pagination),this._orders.next(p.orders),this.store.dispatch((0,e.qQ)({orders:p.orders})),p)))}getOrdersByBusiness(u){if(null!==u)return this._httpClient.get(`${M}/orders/business/${u}`).pipe((0,o.b)(E=>{this._orders.next(E.orders),this.store.dispatch((0,e.qQ)({orders:E.orders}))}))}getOrderById(u){if(null!==u)return this._httpClient.get(`${M}/orders/${u}`).pipe((0,a.j)("order"),(0,o.b)(E=>{this.store.dispatch((0,e.OL)({order:E}))}))}updateOrder(u){return this.orders$.pipe((0,s.q)(1),(0,_.w)(E=>this._httpClient.patch(`${M}/orders/update-states/${u._id}`,u).pipe((0,i.U)(P=>{const I=E.findIndex(C=>C._id===u._id);return E[I]=P.order,this._orders.next(E),this.store.dispatch((0,e.qQ)({orders:E})),P}))))}updateOrderStatus(u,E){return this.store.select(r.ny).pipe((0,s.q)(1),(0,_.w)(P=>this._httpClient.patch(`${M}/orders/update-state/${u}`,E).pipe((0,i.U)(I=>{const C=P.findIndex(p=>p._id===u);return P[C]=I.updatedOrder,this.store.dispatch((0,e.qQ)({orders:P})),I}))))}}return D.\u0275fac=function(u){return new(u||D)(n.LFG(v.eN),n.LFG(c.yh))},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},8441:(h,d,t)=>{t.d(d,{S:()=>_});var r=t(2198),l=t(6203),o=t(5e3),a=t(771),s=t(5094);let _=(()=>{class i{constructor(O,n){this._productsService=O,this.store=n,this.businessId=null,this.store.select(l.pR).pipe((0,r.h)(v=>null!==v)).subscribe(v=>this.businessId=v._id)}resolve(O,n){return this._productsService.getProductsByBusiness(this.businessId)}}return i.\u0275fac=function(O){return new(O||i)(o.LFG(a.s),o.LFG(s.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},4151:(h,d,t)=>{t.d(d,{nR:()=>a});var r=t(5094);const l=s=>s.products,a=((0,r.P1)(l,s=>s.product),(0,r.P1)(l,s=>s.products))}}]);